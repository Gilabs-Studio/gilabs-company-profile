---
import { pricingData } from '../../data/pricing';
import { Sparkles } from 'lucide-react';

const { lang } = Astro.props;
const aiAddons = pricingData[lang].aiAddons;
---

<section class="py-20 md:py-32 relative border-b border-border/50">
  <div class="container mx-auto px-4">
    <div class="max-w-7xl mx-auto">
      <div class="relative rounded-3xl overflow-hidden border border-indigo-500/50 bg-linear-to-br from-indigo-900/20 via-purple-900/20 to-transparent p-8 md:p-12" style="box-shadow: 0 0 40px -10px rgba(124, 58, 237, 0.3);">
        <!-- Glow Effect -->
        <div class="absolute top-0 right-0 w-64 h-64 bg-indigo-600/20 blur-[100px] rounded-full pointer-events-none"></div>
        
        <div class="relative z-10 mb-12">
          <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-indigo-500/50 bg-indigo-500 text-xs font-medium text-white mb-4">
            <Sparkles className="w-3 h-3" />
            {lang === 'en' ? 'Intelligence Layer' : 'Lapisan Kecerdasan'}
          </div>
          <h2 class="text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight mb-6">
            <span class="ai-gradient-text">{aiAddons.title}</span>
          </h2>
          <p class="text-lg text-muted-foreground max-w-2xl">{aiAddons.subtitle}</p>
        </div>

        <div class="relative z-10">
          {/* Top Row - 3 Cards */}
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
            {aiAddons.packages.slice(0, 3).map((aiPkg) => (
              <div class="bg-background/80 backdrop-blur border border-border/50 p-6 rounded-xl hover:border-indigo-500/50 transition-colors hover:shadow-lg hover:-translate-y-1">
                <h3 class="text-foreground font-bold mb-2">{aiPkg.name}</h3>
                <p class="text-xs text-muted-foreground mb-4 h-8 line-clamp-2">{aiPkg.description}</p>
                <div class="text-lg font-bold text-foreground mb-4">{aiPkg.price}</div>
                <ul class="text-xs text-muted-foreground space-y-2">
                  {aiPkg.features.slice(0, 2).map((feature) => (
                    <li>+ {feature}</li>
                  ))}
                </ul>
              </div>
            ))}
          </div>
          
          {/* Bottom Row - Fully Integrated AI Agent (Full Width) */}
          {aiAddons.packages[4] && (
            <div class="bg-background/80 backdrop-blur border border-border/50 p-6 rounded-xl hover:border-indigo-500/50 transition-colors flex flex-col md:flex-row items-center justify-between gap-6">
              <div>
                <h3 class="text-foreground font-bold mb-2 flex items-center gap-2">
                  {aiAddons.packages[4].name}
                  <span class="bg-indigo-600 text-white text-[10px] px-2 py-0.5 rounded font-medium">
                    {lang === 'en' ? 'Advanced' : 'Tingkat Lanjut'}
                  </span>
                </h3>
                <p class="text-sm text-muted-foreground max-w-xl">
                  {aiAddons.packages[4].description}
                </p>
              </div>
              <div class="text-right">
                <div class="text-2xl font-bold text-foreground tracking-tight">{aiAddons.packages[4].price}</div>
                <div class="text-xs text-muted-foreground">
                  {lang === 'en' ? 'Depending on complexity' : 'Tergantung kompleksitas'}
                </div>
              </div>
            </div>
          )}
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .ai-gradient-text {
    background: linear-gradient(90deg, #6366f1, #8b5cf6, #a855f7, #c084fc, #8b5cf6, #6366f1);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradient-shift 3s ease infinite;
  }
  
  @keyframes gradient-shift {
    0%, 100% {
      background-position: 0% center;
    }
    50% {
      background-position: 100% center;
    }
  }
</style>
